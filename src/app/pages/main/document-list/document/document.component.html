<div class="qrCode">
  <div class="qrCode__downloader" id="download">
    <div class="qrCode__downloader__wrapper">
      <qrcode
        #qrCode
        [allowEmptyString]="true"
        [alt]="'A custom alt attribute'"
        [ariaLabel]="'QR Code image with the following content...'"
        [colorDark]="'#000'"
        [colorLight]="'#ffffffff'"
        [cssClass]="'center'"
        [elementType]="'img'"
        [errorCorrectionLevel]="'M'"
        [qrdata]="qrCodeLink"
        [scale]="128"
        [title]="'A custom title attribute'"
        [width]="200"
        class="qrCode__downloader__wrapper__code"
      ></qrcode>
    </div>

    <button
      (click)="downloadQrCode(qrCode)"
      class="qrCode__downloader__wrapper__btn"
      nz-button
      nzType="primary"
    >
      Download
    </button>
  </div>

  <button
    (click)="save()"
    [disabled]="!pdfSrc"
    class="qrCode__btn"
    nz-button
    nzType="primary"
    style="margin-top: 20px;"
  >
    Сохранить
  </button>
</div>

<div class="document__uploads">
  <div class="document__uploads__item">
    <button
      (click)="deleteSelectedPdf()"
      [disabled]="!pdfSrc"
      [nzDanger]="pdfSrc"
      class="document__uploads__item__btn"
      nz-button
      nzType="primary"
    >
      Удалить файл
    </button>

    @if (!pdfSrc) {
      <nz-upload
        [nzShowUploadList]="false"
        [nzBeforeUpload]="beforeUpload"
        [nzAccept]="'application/pdf'"
        class="document__uploads__item__uploader"
        nzListType="picture-card"
      >
        <span
          class="upload-icon"
          style="margin-right: 10px"
          nz-icon
          [nzType]="loading ? 'loading' : 'plus'"
        ></span>
        <div class="ant-upload-text">Загрузить только PDF-файл!</div>
      </nz-upload>
    } @else {
      <pdf-viewer
        [src]="pdfSrc"
        [rotation]="0"
        [original-size]="false"
        [show-all]="true"
        [fit-to-page]="false"
        [zoom]="1"
        [zoom-scale]="'page-fit'"
        [stick-to-page]="false"
        [render-text]="true"
        [external-link-target]="'blank'"
        [autoresize]="false"
        [show-borders]="true"
        style="width: 100%; height: 500px; margin: 0 auto; border: 1px solid #f0f0f0;"
      ></pdf-viewer>
    }
  </div>
</div>
